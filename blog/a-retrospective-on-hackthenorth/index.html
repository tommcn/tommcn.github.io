<!doctype html><html class=light lang=en><head><meta charset=utf-8><title>A Look Back on HTN 2021</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://tomas.mcnamer.ca/plugins/slick/slick.css as=style onload='this.onload=null,this.rel="stylesheet"' rel=preload><link rel=stylesheet href=https://tomas.mcnamer.ca/plugins/slick/slick-theme.css as=style onload='this.onload=null,this.rel="stylesheet"' rel=preload><link rel=stylesheet href=https://tomas.mcnamer.ca/plugins/font-awesome/css/font-awesome.min.css as=font onload='this.onload=null,this.rel="stylesheet"' rel=preload><link rel=stylesheet href=https://tomas.mcnamer.ca/plugins/magnafic-popup/magnific-popup.css as=style onload='this.onload=null,this.rel="stylesheet"' rel=preload><link href=https://tomas.mcnamer.ca/scss/style.min.css rel=stylesheet as=style onload='this.onload=null,this.rel="stylesheet"' rel=preload><link rel="shortcut icon" href=https://tomas.mcnamer.ca/images/favicon.ico type=image/x-icon><link rel=icon href=https://tomas.mcnamer.ca/images/favicon.png type=image/x-icon><meta name=description content="Tomas McNamer's personal website"></head><body><nav class="navbar navbar-expand-lg fixed-top"><div class=container><a href=https://tomas.mcnamer.ca/ class=navbar-brand><img src=https://tomas.mcnamer.ca/images/site-navigation/logo.webp alt=site-logo></a>
<button type=button class="navbar-toggler collapsed" data-toggle=collapse data-target=#navbarCollapse aria-label="Collapse menu">
<span class=navbar-toggler-icon></span>
<span class=navbar-toggler-icon></span>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-between" id=navbarCollapse><ul class="nav navbar-nav main-navigation my-0 mx-auto"><li class=nav-item><a href=https://tomas.mcnamer.ca/#home class="nav-link text-dark text-sm-center p-2">Home</a></li><li class=nav-item><a href=https://tomas.mcnamer.ca/#about class="nav-link text-dark text-sm-center p-2">About</a></li><li class=nav-item><a href=https://tomas.mcnamer.ca/#portfolio class="nav-link text-dark text-sm-center p-2">Portfolio</a></li><li class=nav-item><a href=https://tomas.mcnamer.ca/#resume class="nav-link text-dark text-sm-center p-2">Resume</a></li><li class=nav-item><a href=https://tomas.mcnamer.ca/#blog class="nav-link text-dark text-sm-center p-2">Blog</a></li><li class=nav-item><a href=https://tomas.mcnamer.ca/#contact class="nav-link text-dark text-sm-center p-2">Contact</a></li><li class=nav-item><button class=toggle-mode aria-label="Toggle dark mode"><i class="fa fa-moon-o"></i></button></li></ul></div></div></nav><div id=content><header class=breadCrumb><div class=container><div class=row><div class="col-lg-10 col-md-12 offset-lg-1 offset-md-0 text-center"><h3 class=breadCrumb__title>A Look Back on HTN 2021</h3><nav aria-label=breadcrumb class="d-flex justify-content-center"><ol class="breadcrumb align-items-center"><li class=breadcrumb-item><a href=https://tomas.mcnamer.ca/>Home</a></li><li class=breadcrumb-item><a href=https://tomas.mcnamer.ca/blog>All Post</a></li><li class="breadcrumb-item active" aria-current=page>A Look Back on HTN 2021</li></ol></nav></div></div><ul class=post-meta><li><i class="fa fa-calendar"></i>
October 6, 2021</li><li><i class="fa fa-clock-o"></i>
7 mins read</li><li><i class="fa fa-folder-open"></i>
<a class=text-capitalize href=https://tomas.mcnamer.ca/categories/blog/>blog</a></li><li><i class="fa fa-globe"></i>
<a class=text-capitalize href=https://tommcn.medium.com/a-retrospective-on-hackthenorth-2021-130f570461c6>Read on Medium</a></li></ul></div></div></div></div></header><section class="section singleBlog"><div class=svg-img><img src=https://tomas.mcnamer.ca/images/hero/figure-svg.svg alt></div><div class=animate-shape><img src=https://tomas.mcnamer.ca/images/skill/skill-background-shape.svg alt><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 600 600"><defs><linearGradient id="d" x1=".929" y1=".111" x2=".263" y2=".935" gradientUnits="objectBoundingBox"><stop offset="0" stop-color="#f1f6f9"/><stop offset="1" stop-color="#f1f6f9" stop-opacity="0"/></linearGradient></defs><g data-name="blob-shape (3)"><path class="blob" fill="url(#d)" d="M455.4 151.1c43.1 36.7 73.4 92.8 60.8 136.3-12.7 43.5-68.1 74.4-111.3 119.4-43.1 45-74 104.1-109.8 109-35.9 5-76.7-44.2-111.8-89.2-35.2-45-64.7-85.8-70.8-132.6-6-46.8 11.6-99.6 46.7-136.3 35.2-36.6 88-57.2 142.4-58.8 54.5-1.7 110.6 15.6 153.8 52.2z"/></g></svg></div><div class=animate-pattern><img src=https://tomas.mcnamer.ca/images/service/background-pattern.svg alt=background-shape></div><div class=container><div class=row><div class=col-lg-12><div class=singleBlog__feature><img src=https://cdn-images-1.medium.com/max/13824/1*Fsi3DWNjDMyUHHAEp6-uFw.jpeg alt=feature-image></div></div></div><div class="row mt-5"><div class=col-lg-12><div class=singleBlog__content><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#introduction><strong>Introduction</strong></a></li><li><a href=#ideation><strong>Ideation</strong></a></li><li><a href=#our-project><strong>Our project</strong></a></li><li><a href=#technical-side><strong>Technical Side</strong></a></li><li><a href=#lessons-learned><strong>Lessons learned</strong></a></li><li><a href=#what-now><strong>What now</strong></a></li><li><a href=#conclusion><strong>Conclusion</strong></a></li></ul></nav><h1 id=a-look-back-on-htn-2021>A Look Back on HTN 2021</h1><p>TL;DR</p><p>We built an app that tracked people using security cameras in stores and won the <strong>Best Entrepreneurship Hack</strong> and <strong>Best Use of Google Cloud</strong> prizes. More information is available on our <a href=https://devpost.com/software/hive-hq>devpost</a>.</p><h2 id=introduction><strong>Introduction</strong></h2><p><img src=https://cdn-images-1.medium.com/max/2000/1*U5hvHglkpcyfaccate0ABg.png alt></p><p><a href=https://hackthenorth.com/>HackTheNorth</a> is the biggest hackathon in Canada, with over 3500 participants and 447 projects submitted in 2021 on their <a href=https://hackthenorth2021.devpost.com/>devpost</a>. Being the biggest Canadian hackathon, HTN provides participants with a plethora of mentors and workshops. HTN is the perfect place to experiment with new technologies and build something innovative.</p><h2 id=ideation><strong>Ideation</strong></h2><p>When looking for project ideas, we wanted to make something relevant to our current situation, be it the election or the reopening of the economy. We used news sites to look for current issues in our communities. When brainstorming hackathon ideas, we came up with a bunch of ideas that we decided not to pursue for multiple reasons:</p><p><img src=https://cdn-images-1.medium.com/max/8000/0*0LjM2RU9OLFgO78_ alt="Photo by CDC on Unsplash"><em>Photo by <a href="https://unsplash.com/@cdc?utm_source=medium&utm_medium=referral">CDC</a> on <a href="https://unsplash.com?utm_source=medium&utm_medium=referral">Unsplash</a></em></p><ul><li><p>A COVID school cases tracker: scrapped because of the lack of complexity (Ontario provides the raw data and people have already built pretty cool spreadsheets with them.</p></li><li><p>A vaccine passport: Too many requirements regarding security and privacy, which our team members didn’t have experience with.</p></li><li><p>An app calculating maximum room occupancy: Although Ontario’s guideline only talks about room size, true calculations require additional information such as airflow and room arrangement.</p></li></ul><p>The following ideas were not pursued due to a lack of interest from team members:</p><ul><li><p>A news aggregator</p></li><li><p>A news bias detector (someone built it <a href=https://devpost.com/software/bias-detector-xkptnu>here</a>)</p></li><li><p>A political platform aggregator (someone built it <a href=https://devpost.com/software/poliviews>here</a>)</p></li><li><p>A campaign promises tracker</p></li><li><p>An online voting platform</p></li></ul><h2 id=our-project><strong>Our project</strong></h2><p>We finally decided to go with an application that would help businesses optimize their floorplan to be more COVID friendly, allowing them to open their stores safely. We achieved this by using machine learning to analyse security camera feeds and detect bottlenecks and high-traffic areas on the store’s premises. We called it “Hive-HQ”.</p><p><img src=https://cdn-images-1.medium.com/max/13824/1*Fsi3DWNjDMyUHHAEp6-uFw.jpeg alt></p><p>This idea didn’t come to fruition instantly, it took us a couple of hours to go from “helping stores reopen safely” to “detecting bottlenecks and high-traffic areas”. To staart, we jumped on the idea of using cameras to detect violations of COVID’s 2 meter “bubble”.</p><p><img src=https://cdn-images-1.medium.com/max/2000/1*hqBohWVWFYB99AOHc1_Jvg.png alt="Camera view showing a 2 meter radius around everyone"><em>Camera view showing a 2 meter radius around everyone</em></p><p>After realizing this idea would only take a couple of hours, we decided to translate the detected people into an uploaded 2D floor plan. This is when the idea of adding a heatmap of high-traffic areas came into play. Since we already had the position of everyone in view of the camera, we were able to quickly add this feature to our project. From there, it was trivial for our team to add features which allowed users to connect multiple cameras and floor plans to create one big heatmap of the entire premise.</p><p><img src=https://cdn-images-1.medium.com/max/2000/1*nCuvHck7cxKD7GmwYt1RtA.png alt="The floor plan for the above camera view showing our feature allowing to stich together multiple camera shots"><em>The floor plan for the above camera view showing our feature allowing to stich together multiple camera shots</em></p><p>Finally, we wanted to add some little statistics to our web app such as the number of people in the store and the average stay in the store, but we ran out of time and had to focus on other parts of the submission.</p><p><img src=https://cdn-images-1.medium.com/max/3840/1*jrvnFA8Nyfv6Ck1OwMtsRQ.png alt="Our UI design, implemented in vanilla React"><em>Our UI design, implemented in vanilla React</em></p><p>One of the prizes we were running for was for the project with the best business viability (presented by Contrary). To qualify for it, we had to explain why our project could be a good business venture. For this reason, we decided to make our project cloud-friendly so businesses didn’t need strong servers to run our product, while allowing for privacy-weary business owners to run the code on-premise. With this in mind, we allowed ourselves to use some of Google Cloud most powerful servers and utilized their GPUs to their full extent.</p><h2 id=technical-side><strong>Technical Side</strong></h2><p><img src=https://cdn-images-1.medium.com/max/4960/1*SMTbRfSSsPNXWcryLet-8g.jpeg alt="The YOLOv5 splash picture"><em>The YOLOv5 splash picture</em></p><p>For our backend, we opted to use the brand new <a href=https://github.com/ultralytics/yolov5>YOLOv5</a> (You Only Look Once) arhcitecture, tweaked to only detect people and used custom algorithms to track individuals over multiple cameras. We tested <a href=https://github.com/arvganesh/Multi-Camera-Object-Tracking>multiple</a> <a href=https://github.com/JunweiLiang/Object_Detection_Tracking>different</a> <a href=https://github.com/samihormi/Multi-Camera-Person-Tracking-and-Re-Identification>options</a> <a href=https://github.com/KunalArora/multiple-camera_multiple-people_tracking>to</a> track individual users on security cameras, but they all required a specific environment, which would take too long to set up and iterate with, or they weren’t easily compatible with a Google Cloud’s GPU, which was a big requirement if we wanted good performance with multiple cameras. As for the cloud platform, we toyed around with Azure, but ran into several issues, mostly regarding Active Directory, since we didn’t have time to experiment longer, we chose to switch to Google Cloud because most of our team members had experience with it and free credits were provided for the competition.</p><p>Our frontend was built with React and vanilla CSS. Before we actually started coding, we built a high-fidelity design using Figma, which we were able to replicate fairly easily afterwards, while keeping a distinctive look and feel to our web app. We did run into problems when we wanted to preserve state in the app. Because of the way the information we wanted to preserve, we couldn’t simply store it in localStorage, so, in the interest of time, we decided to not replicate state between server and client, and instead just fetch state on every page reload and stream the various camera streams directly from our AI server.</p><h2 id=lessons-learned><strong>Lessons learned</strong></h2><p>As with any project, we learnt a lot during this hackathon. The first big lesson we learned was time management. Although we were allowed to start brainstorming before the hackathon started, we only had 36 hours to write our implementation. Of those 36 hours, we spent a good chunk of time troubleshooting problems with the servers, team creation on google cloud and fighting with Azure. We also left the creation of the video to the last minute, which left us scrambling to record, edit and upload it to the devpost. Thankfully we were able to send our submission literally 1 minute before the deadline (but as is customary in many hackathons, the submission deadline was pushed by 1 hour. One problem we also faced when connecting the front and back end was documentation. The backend was implemented as an API server, however, we didn’t have a document outlining how to use it and all the different endpoints. This meant the frontend team had to read the server’s source code to understand how it worked. Thankfully, our frontend team did have some experience with Flask, the webserver we were running.</p><p>However, we believe that we did multiple things right. We used the live share feature of Visual Studio Code, which allowed us to all edit code on one person’s computer. This allowed us to iterate extremely quickly and not have to deal with git merge conflicts. Once we got our VM working, we immediately ran the VSCode live share server off of it. We also separated our work very efficiently among ourselves. We also had our features laid out in incremental steps. This allowed us to work on features starting with a minimum viable product and slowly add features to our app. This helped us stay on track and not add features just for the sake of it when we didn’t even have a working proof of concept.</p><h2 id=what-now><strong>What now</strong></h2><p>Although our project was built with COVID as the primary concern, our app can actually be useful in the post-COVID world. Since we are able to track a customer’s journey across the store, we are able to see which products do better and suggest moving items to different locations to optimize revenue in the store. We know there are already products that do that, but our solution would be significantly cheaper as it would be fully automatic.</p><p>The code we wrote is understandably not optimized. We have plenty of ideas to make our product easier to deploy, maintain and use. Currently, all of the information stored on the server is stored in a single dictionary, which doesn’t allow for horizontal scaling. An improvement could be to use an in-memory database such as Redis, which would allow for multiple hosts to connect to it. On the topic of scalability, with our current code structure, it wouldn’t be very difficult to make the server a container that could be deployed on Docker or on Kubernetes. Some of our front-end code may need some refactoring but is overall pretty well structured.</p><h2 id=conclusion><strong>Conclusion</strong></h2><p>During this hackathon, we learnt a lot about project/time management during this hackathon, mainly how to divide tasks in a team and the importance of good communication and documentation. We also got to experiment with some of the newest AI technologies out there and implemented complex mathematics in an efficient manner.</p><p>Check out the other project submitted to HackTheNorth <a href=https://hackthenorth2021.devpost.com/>here</a>.</p><p>Connect with us on LinkedIn:</p><ul><li><p>Tomas: <a href=https://www.linkedin.com/in/tomas-mc/>https://www.linkedin.com/in/tomas-mc/</a></p></li><li><p>Edward: <a href=https://www.linkedin.com/in/edwardjxli/>https://www.linkedin.com/in/edwardjxli/</a></p></li><li><p>Victoria: <a href=https://www.linkedin.com/in/victoriadarosa/>https://www.linkedin.com/in/victoriadarosa/</a></p></li><li><p>Lefan: <a href=https://www.linkedin.com/in/lefan-hu-579591204/>https://www.linkedin.com/in/lefan-hu-579591204/</a></p></li></ul></div></div></div></div></section></div><section class=footer id=contact><div class=footer__background_shape><svg viewBox="0 0 1920 79"><path d="M0 0h1920v79L0 0z" data-name="Path 1450"/></svg></div><div class=container><div class=row><div class=col-lg-12><div class=footer__cta><div class=shape-1><svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029"><path data-name="Path 1449" d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z" transform="translate(217.489 188.626)"/></svg></div><div class=shape-2><svg xmlns="http://www.w3.org/2000/svg" width="357" height="315.029" viewBox="0 0 357 315.029"><path data-name="Path 1449" d="M76.1-157.222C91.746-135.8 87.2-94.273 99.993-61.945c12.7 32.328 42.661 55.459 39.248 73.282-3.318 17.823-40.007 30.337-65.6 43.325-25.5 12.988-39.912 26.545-60.01 42.566-20.1 16.116-46.074 34.6-63.328 27.682-17.349-6.921-25.976-39.153-59.915-59.82s-93.1-29.768-105.325-51.478 22.373-56.028 43.609-93.949c21.331-37.921 29.2-79.35 53.563-96.793 24.459-17.444 65.414-10.9 103.9-6.921 38.396 3.982 74.326 5.404 89.965 26.829z" transform="translate(217.489 188.626)"/></svg></div><div class="text-light footer__cta_content"><span>Contact me</span><h2 class=mb-0>Let's Get in Touch</h2></div><div class=footer__cta_action><a class="btn btn-light btn-zoom" href=https://tomas.mcnamer.ca/contact>Get in
touch</a></div></div></div></div><div class="row footer__widget"><div class=col-lg-4><div class="footer__widget_logo mb-5"><img src=https://tomas.mcnamer.ca/images/favicon-1.png alt=widget-logo></div></div><div class=col-lg-4><div class="text-light footer__widget_sitemap mb-5"><h3 class=base-font>Sitemap</h3><ul class="unstyle-list small"><li class=mb-2><a class=text-light href=https://tomas.mcnamer.ca/contact>Contact me</a></li><li class=mb-2><a class=text-light href=https://tomas.mcnamer.ca/portfolio>Portfolio</a></li><li class=mb-2><a class=text-light href=https://tomas.mcnamer.ca/blog>Blog</a></li><li class=mb-2><a class=text-light href=https://tomas.mcnamer.ca/>Latest Article</a></li></ul></div></div><div class=col-lg-4><div class="text-light footer__widget_address mb-5"><h3 class=base-font>Contact</h3><ul class="fa-ul small"><li class=mb-2><a class=text-light href=tel:><span class=fa-li><i class="fa fa-phone"></i></span></a></li><li class=mb-2><a class=text-light href=mailto:tommcn@mcnamer.ca><span class=fa-li><i class="fa fa-envelope"></i></span>tommcn@mcnamer.ca</a></li></ul></div></div></div><div class="row footer__footer"><div class=col-lg-6><div class="footer__footer_copy text-light"><p>All right reserved copyright © Tomas McNamer 2022</p></div></div><div class=col-lg-6><div class=footer__footer_social><ul class=unstyle-list><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://www.linkedin.com/in/tomas-mc aria-label="Social link"><i class="fa fa-linkedin-square"></i></a></li><li class="d-inline-block mx-2"><a class=text-light target=_blank href=https://github.com/tommcn aria-label="Social link"><i class="fa fa-github-square"></i></a></li><li class="d-inline-block mx-2"><a class=text-light target=_blank href=mailto:tommcn@mcnamer.ca aria-label="Social link"><i class="fa fa-envelope-square"></i></a></li></ul></div></div></div></div></section><script src=https://tomas.mcnamer.ca/plugins/jQuery/jquery.min.js></script>
<script src=https://tomas.mcnamer.ca/plugins/bootstrap/bootstrap.min.js defer></script>
<script src=https://tomas.mcnamer.ca/plugins/slick/slick.min.js defer></script>
<script src=https://tomas.mcnamer.ca/plugins/waypoint/jquery.waypoints.min.js defer></script>
<script src=https://tomas.mcnamer.ca/plugins/magnafic-popup/jquery.magnific-popup.min.js defer></script>
<script src=https://tomas.mcnamer.ca/plugins/gsap/gsap.min.js defer></script>
<script src=https://tomas.mcnamer.ca/plugins/imagesloaded/imagesloaded.min.js defer></script>
<script src=https://tomas.mcnamer.ca/plugins/masonry/masonry.min.js defer></script>
<script src=https://tomas.mcnamer.ca/js/form-handler.min.js></script>
<script src=https://tomas.mcnamer.ca/js/script.min.js></script></body></html>